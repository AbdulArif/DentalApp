<div class="content">
    <div class="container-fluid">
        <div class="card">
            <div class="card-body p-0">
                <p-table #dt1 [value]="Patients" dataKey="id" [rows]="10" [showCurrentPageReport]="true"
                [(contextMenuSelection)]="selectedUser"
                    [contextMenu]="cm"
                    sortMode="multiple" [rowsPerPageOptions]="[10,25,50]"
                    styleClass="p-datatable-sm p-datatable-striped" [paginator]="true"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [globalFilterFields]="['fullName','phoneNumber','address','reasonForVisit', 'patientReports']">
                    <ng-template pTemplate="caption">
                        <div class="d-flex bd-highlight">
                            <div class="me-auto">Patients<span *ngIf="Patient_loading"
                                    class="spinner-border spinner-border-sm ms-4" role="status"
                                    aria-hidden="true"></span>
                            </div>
                            <div class="me-2">
                                <input type="text" (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
                                    class="form-control form-control-sm shadow-none" placeholder="Search"
                                    aria-label="search" aria-describedby="basic-search">
                            </div>
                            <div class="me-0">
                                <!-- <button type="button" class="btn btn-sm btn-primary shadow-sm" (click)="showDialog()">
                                    <i class="bi bi-plus-square-fill me-2"></i>Add User
                                </button> -->
                            </div>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th pSortableColumn="fullName">Name <p-sortIcon field="fullName"></p-sortIcon>
                            </th>
                            <th pSortableColumn="phoneNumber">PhoneNo. <p-sortIcon field="phoneNumber"></p-sortIcon>
                            </th>
                            <th pSortableColumn="address">Address <p-sortIcon field="address"></p-sortIcon>
                            </th>
                            <th pSortableColumn="reasonForVisit">Reason <p-sortIcon
                                    field="reasonForVisit"></p-sortIcon>
                            </th>
                            <th pSortableColumn="patientReports">Reports <p-sortIcon
                                    field="patientReports"></p-sortIcon>
                            </th>
                            <th pSortableColumn="insuranceDetails">insuranceDetails <p-sortIcon field="insuranceDetails"></p-sortIcon>
                            </th>
                            <th pSortableColumn="medicalHistory">medicalHistory <p-sortIcon field="medicalHistory"></p-sortIcon>
                            </th>
                            <th pSortableColumn="dentalHistory">dentalHistory <p-sortIcon field="dentalHistory"></p-sortIcon>
                            </th>
                            <th pSortableColumn="dateOfBirth">dateOfBirth <p-sortIcon
                                    field="dateOfBirth"></p-sortIcon>
                            </th>
                            <th pSortableColumn="preferredDateAndTime">Visit Date <p-sortIcon
                                    field="preferredDateAndTime"></p-sortIcon>
                            </th>
                            <th pSortableColumn="addedBy">addedBy <p-sortIcon
                                field="addedBy"></p-sortIcon>
                            </th>
                            <th pSortableColumn="addedDate">addedDate <p-sortIcon
                                field="addedDate"></p-sortIcon>
                            </th>
                            <th pSortableColumn="updatedBy">updatedBy <p-sortIcon
                                    field="updatedBy"></p-sortIcon>
                            </th>
                        <th pSortableColumn="updatedDate">updatedDate <p-sortIcon
                                field="updatedDate"></p-sortIcon>
                        </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-Patient>
                        <tr [pContextMenuRow]="Patient">
                            <td>{{Patient.fullName}} </td>
                            <td>{{Patient.phoneNumber}}</td>
                            <td>{{Patient.address}} </td>
                            <td>{{Patient.reasonForVisit}}</td>
                            <td>{{Patient.patientReports}}</td>
                            <td>{{Patient.insuranceDetails}} </td>
                            <td>{{Patient.medicalHistory}}</td>
                            <td>{{Patient.dentalHistory}} </td>
                            <td>{{Patient.dateOfBirth+'Z' | date:'medium'}}</td>
                            <td>{{Patient.preferredDateAndTime+'Z' | date:'medium'}}</td>
                            <td>{{Patient.addedBy}}</td>
                            <td>{{Patient.addedDate}} </td>
                            <td>{{Patient.updatedBy}}</td>
                            <td>{{Patient.updatedDate}}</td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="7">No users found.</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>

    </div>
</div>

<p-contextMenu #cm [model]="items"></p-contextMenu>